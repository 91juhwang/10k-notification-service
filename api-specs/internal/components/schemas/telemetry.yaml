TelemetryIngestRequest:
  type: object
  additionalProperties: false
  properties:
    deviceId:
      type: string
      minLength: 1
    timestamp:
      type: string
      format: date-time
    voltage:
      type: number
    frequency:
      type: number
    powerKw:
      type: number
  required: [deviceId, timestamp, voltage, frequency, powerKw]

TelemetryIngestAccepted:
  type: object
  properties:
    ingestId:
      type: string
    status:
      type: string
      enum: [accepted]
    queuedAt:
      type: string
      format: date-time
  required: [ingestId, status, queuedAt]

TelemetryBatchIngestRequest:
  type: object
  additionalProperties: false
  properties:
    readings:
      type: array
      minItems: 1
      maxItems: 200
      items:
        $ref: "#/TelemetryIngestRequest"
  required: [readings]

TelemetryBatchIngestAccepted:
  type: object
  properties:
    batchId:
      type: string
    status:
      type: string
      enum: [accepted]
    queuedAt:
      type: string
      format: date-time
    acceptedCount:
      type: integer
      minimum: 1
  required: [batchId, status, queuedAt, acceptedCount]
